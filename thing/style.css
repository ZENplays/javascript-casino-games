/* --- RESET & MAIN BACKGROUND --- */
body {
    background-color: #3d8c40 !important;
    color: white;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    overflow: hidden;
}

/* Floating Home Button */
.home-btn {
    position: fixed;
    top: 20px;
    left: 20px;
    background: rgba(0,0,0,0.5);
    color: white;
    text-decoration: none;
    padding: 10px 20px;
    border-radius: 8px;
    font-weight: bold;
    border: 1px solid rgba(255,255,255,0.2);
    transition: background 0.2s;
    z-index: 5000;
}
.home-btn:hover { background: rgba(0,0,0,0.8); }

.top-right-btn {
    position: fixed;
    top: 20px;
    right: 20px;
    background: rgba(192, 57, 43, 0.8); /* Red tint */
    color: white;
    border: 1px solid rgba(255,255,255,0.2);
    padding: 10px 15px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    z-index: 5000;
}
.top-right-btn:hover { background: #c0392b; }

.main-layout {
    display: flex;
    width: 95%;
    max-width: 1450px;
    height: 750px;
    gap: 20px;
    justify-content: center;
}

/* --- CONTAINERS --- */
.rules-sidebar, .actions-sidebar, .game-container {
    background: #1a3a1c;
    border-radius: 20px;
    border: 1px solid rgba(255,255,255,0.1);
    box-shadow: 0 10px 40px rgba(0,0,0,0.4);
    height: 100%;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
    padding: 1.5rem;
}

.rules-sidebar, .actions-sidebar { flex: 0 1 320px; }
.game-container { 
    flex: 0 1 750px; 
    text-align: center; 
    justify-content: space-between; /* STICK TABLE TO BOTTOM FIX */
    position: relative; 
    padding-bottom: 30px;
}

/* Sidebars */
.sidebar-top { flex-grow: 1; }
.sidebar-bottom { margin-top: auto; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); }
.sidebar-section { border-bottom: 1px solid rgba(255,255,255,0.1); padding: 8px 0; }
h3 { border-bottom: 1px solid #ffcc00; padding-bottom: 5px; margin-top: 0; color: #ffcc00; text-align: left; }

/* --- COMPACT STATS GRID --- */
.stats-grid {
    display: flex;
    justify-content: space-between;
    text-align: center;
    padding-top: 5px;
}
.stat-item { flex: 1; }
.stat-label { font-size: 0.7rem; text-transform: uppercase; color: #aaa; margin-bottom: 2px; }
.stat-value { font-size: 1.2rem; font-weight: bold; color: #ffcc00; }

/* --- PAYOUT LOG & SCROLLBAR --- */
#payout-logger {
    height: 90px;
    overflow-y: auto;
    background: rgba(0,0,0,0.2);
    border-radius: 8px;
    padding: 8px;
    font-size: 0.85rem;
    display: flex;
    flex-direction: column;
    gap: 4px;
    text-align: left;
}
#payout-logger::-webkit-scrollbar { width: 6px; }
#payout-logger::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.05); border-radius: 10px; }
#payout-logger::-webkit-scrollbar-thumb { background: #ffcc00; border-radius: 10px; }

.log-entry { padding: 4px 8px; border-radius: 4px; border-left: 3px solid transparent; }
.log-win { background: rgba(46, 204, 113, 0.1); border-color: #2ecc71; color: #2ecc71; }
.log-loss { background: rgba(231, 76, 60, 0.1); border-color: #e74c3c; color: #e74c3c; }
.log-push { background: rgba(241, 196, 15, 0.1); border-color: #f1c40f; color: #f1c40f; }

.reshuffle-text { font-size: 0.8rem; color: #ffffff; padding: 12px 0; text-align: left; opacity: 0.8; }

/* --- MONEY UI --- */
.balance-display { margin-top: 10px; text-align: left; }
.bal-label { font-size: 0.7rem; text-transform: uppercase; color: #aaa; }
#player-balance { font-size: 2rem; font-weight: bold; color: #2ecc71; }
.profit-row { font-size: 0.9rem; color: #aaa; margin-top: 2px; }
#net-profit.plus { color: #2ecc71; }
#net-profit.minus { color: #ff7675; }

.bet-control-line {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(0,0,0,0.3);
    padding: 10px 15px;
    border-radius: 10px;
    border: 1px solid #ffcc00;
    margin-bottom: 15px;
}
#total-bet { font-size: 1.3rem; color: #ffcc00; font-weight: bold; }
.bet-btns { display: flex; gap: 5px; }
#rebet-btn { background: #3498db; color: white; border: none; padding: 4px 10px; border-radius: 4px; cursor: pointer; font-size: 0.75rem; font-weight: bold; }
#clear-bet { background: #e74c3c; color: white; border: none; padding: 4px 10px; border-radius: 4px; cursor: pointer; font-size: 0.75rem; font-weight: bold; }

/* --- CARDS --- */
.board { display: flex; flex-direction: column; gap: 20px; margin-top: 10px; }
.score-row { font-size: 1.4rem; font-weight: bold; height: 35px; }
.card-area { height: 150px; display: flex; align-items: center; justify-content: center; }
.card-display { display: flex; justify-content: center; padding-left: 45px; }

.card {
    background: white; color: #2d3436; border-radius: 12px; width: 90px; height: 130px; border: 3px solid #333;
    margin-left: -45px; box-shadow: -4px 0 12px rgba(0,0,0,0.4); position: relative; animation: deal 0.6s ease-out forwards; flex-shrink: 0;
}
.card-corner { position: absolute; top: 6px; left: 6px; line-height: 1; font-size: 1.1rem; text-align: center; }
.card-suit-center { position: absolute; bottom: 6px; right: 6px; font-size: 2.8rem; opacity: 0.15; }

/* FIXED HIDDEN CARD */
.card.hidden-card {
    background: #c0392b !important;
    background-image: 
        repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,.1) 10px, rgba(255,255,255,.1) 20px),
        radial-gradient(circle at center, rgba(255,255,255,0.1) 0%, transparent 70%) !important;
    border: 3px solid #fdfaf0 !important;
}
.card.hidden-card * { display: none !important; } /* This hides the suit/number */

.history-area { height: 75px; display: flex; align-items: center; justify-content: center; }
.small-cards .card { width: 45px; height: 65px; margin-left: -25px; font-size: 0.6rem; border-width: 2px; }

/* --- CHIPS & RIDGES --- */
.chip-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px; margin-bottom: 15px; }
.chip {
    width: 50px; height: 50px; border-radius: 50%; cursor: pointer; font-weight: 900;
    font-size: 0.75rem; display: flex; align-items: center; justify-content: center; transition: 0.1s;
    box-shadow: 0 4px 0 rgba(0,0,0,0.3); border: 3px dashed rgba(255,255,255,0.6);
}
.chip:hover { transform: scale(1.05); }
.chip[data-value="0.5"] { background: #dfe6e9; color: #2d3436; border-color: white !important; }
.chip[data-value="1"] { background: #fdfaf0; color: #2d3436; border-color: #636e72 !important; }
.chip[data-value="2"] { background: #0984e3; }
.chip[data-value="5"] { background: #d63031; }
.chip[data-value="10"] { background: #00b894; }
.chip[data-value="20"] { background: #6c5ce7; }
.chip[data-value="50"] { background: #e67e22; }
.chip[data-value="100"] { background: #2d3436; color: #fdcb6e; border-color: #fdcb6e; }

/* --- MAIN BUTTONS --- */
.sidebar-button-wrapper { position: relative; height: 60px; width: 100%; }
#new-game-btn, #surrender-btn, #spin-btn {
    position: absolute; width: 100%; height: 100%; top: 0; left: 0; font-size: 1.3rem !important;
    font-weight: 900 !important; border-radius: 12px; text-transform: uppercase; cursor: pointer; border: none;
    background: #ffcc00; color: #1a3a1c;
}
#new-game-btn { z-index: 2; }
#surrender-btn { background: #c0392b; color: white; z-index: 1; }
#spin-btn { z-index: 2; } /* Style matching Deal button */

/* Hit, Stand, Double Controls */
.controls button { font-weight: 800 !important; text-transform: uppercase; padding: 12px 20px; border-radius: 8px; border: none; cursor: pointer; font-size: 1.1rem; }
#hit-btn { background: #2ecc71; color: white; }
#stand-btn { background: #e67e22; color: white; }
#double-btn { background: #3498db; color: white; }
button:disabled { background: #555 !important; opacity: 0.5; cursor: not-allowed; }

/* --- OVERLAYS & UI --- */
#insurance-overlay { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0, 20, 0, 0.98); padding: 25px; border-radius: 20px; border: 2px solid #ffcc00; z-index: 1000; text-align: center; }
.hidden-ui { visibility: hidden; opacity: 0; pointer-events: none; }
#timer-wrapper { width: 60%; margin: 15px auto; height: 10px; }
#progress-container { width: 100%; height: 100%; background: rgba(255,255,255,0.1); border-radius: 5px; overflow: hidden; }
#progress-bar { width: 100%; height: 100%; background-color: #2ecc71; }
#message { color: #ffcc00; font-weight: bold; font-size: 1.4rem; height: 50px; display: flex; align-items: center; justify-content: center; }

@keyframes deal { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

/* --- ROULETTE SPECIFIC --- */
/* --- ROULETTE TABLE STYLING --- */
#roulette-table-area {
    background: #0a240b; 
    padding: 12px; /* Shrunk padding from 25px to 12px for a tighter fit */
    border-radius: 12px;
    border: 2px solid #061607;
    box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
    display: inline-block;
    margin: 0 auto;
}

/* The Numbers Section */
.numbers-grid-container {
    display: flex; 
    gap: 3px; /* Slightly tighter gap */
    margin-bottom: 3px;
}

.green-zero {
    width: 55px; /* Shrunk from 60px */
    background: #27ae60;
    font-size: 1.3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px 0 0 4px;
}

#numbers-grid {
    display: grid;
    /* Shrunk individual squares from 50px to 48px */
    grid-template-columns: repeat(12, 48px);
    grid-template-rows: repeat(3, 48px);
    grid-auto-flow: column;
    gap: 3px; /* Shrunk gap from 4px to 3px */
}

/* Adjusting the Outside Rows to match the new 48px grid math */
.outside-row, .special-row {
    display: flex;
    gap: 3px;
    margin-top: 3px;
    margin-left: 58px; /* Adjusted to match new Zero width + gap */
}

.special-row .bet-node, .outside-box {
    flex: 1;
    height: 45px; /* Shrunk height slightly for a more compact look */
}

.red-bg { 
    background-color: #c0392b !important; 
    color: white; 
}
.black-bg { 
    background-color: #2d3436 !important; 
    color: white; 
}

/* Ensure nodes show colors properly */
.bet-node {
    border: 1px solid rgba(255,255,255,0.2);
    cursor: pointer;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: 0.2s;
    /* This ensures text is readable on dark backgrounds */
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}

.bet-node:hover {
    background: rgba(255, 204, 0, 0.3) !important;
    border-color: #ffcc00;
}


/* WHEEL CONTAINER FIX */
#wheel-container {
    height: 80px;
    width: 250px;
    background: #000;
    overflow: hidden !important;
    position: relative;
    border: 2px solid #ffcc00;
    border-radius: 10px;
    margin: 10px auto;
}

#wheel-strip {
    display: flex;
    flex-direction: row;
    height: 100%;
    align-items: center;
    transform: translateX(0);
}

.wheel-num {
    min-width: 60px;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: bold;
    border-right: 1px solid rgba(255,255,255,0.1);
}

#wheel-pointer {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    color: #ffcc00;
    z-index: 10;
    font-size: 1.2rem;
}

/* --- RACETRACK STYLING --- */
#racetrack-area {
    width: 635px; /* Matches the width of the table (12 cols * 48px + gaps + zero) */
    height: 120px;
    margin: 0 auto 15px auto;
    background: #0a240b;
    border-radius: 60px; /* Creates the cylindrical/oval look */
    border: 3px solid #061607;
    position: relative;
    padding: 10px;
    box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
    display: flex;
    align-items: center;
    justify-content: center;
}

#racetrack-path {
    display: flex;
    width: 90%;
    height: 100%;
    flex-wrap: wrap; /* This allows us to arrange them in a loop */
    justify-content: center;
    align-items: center;
    gap: 2px;
}

.track-node {
    width: 28px;
    height: 35px;
    font-size: 0.7rem;
    border-radius: 3px;
    border: 1px solid rgba(255,255,255,0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-weight: bold;
}

/* --- SIDEBAR DIVIDER --- */
.sidebar-divider {
    border: 0;
    height: 1px;
    background-image: linear-gradient(to right, transparent, #ffcc00, transparent);
    margin: 10px 0 15px 0;
    opacity: 0.5;
}

/* Ensure message doesn't overlap */
.message-area {
    padding-bottom: 5px;
    display: block;
}
